<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java 8  Streams" />





  <link rel="alternate" href="/atom.xml" title="一叶知秋" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="重走Java基础之Streams 三接重走Java基础之Streams(二))
Creating a Stream">
<meta property="og:type" content="article">
<meta property="og:title" content="重走Java基础之Streams 三">
<meta property="og:url" content="https://muyinchen.github.io/2017/01/15/重走Java基础之Streams 三/index.html">
<meta property="og:site_name" content="一叶知秋">
<meta property="og:description" content="重走Java基础之Streams 三接重走Java基础之Streams(二))
Creating a Stream">
<meta property="og:image" content="http://og0sybnix.bkt.clouddn.com/T2PQJnXOJXXXXXXXXX_%21%2190219132.jpg">
<meta property="og:image" content="http://og0sybnix.bkt.clouddn.com/T2mBXnXQhXXXXXXXXX_%21%2190219132.jpg">
<meta property="og:image" content="http://i.stack.imgur.com/XY9Kr.png">
<meta property="og:updated_time" content="2017-02-05T07:56:02.780Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="重走Java基础之Streams 三">
<meta name="twitter:description" content="重走Java基础之Streams 三接重走Java基础之Streams(二))
Creating a Stream">
<meta name="twitter:image" content="http://og0sybnix.bkt.clouddn.com/T2PQJnXOJXXXXXXXXX_%21%2190219132.jpg">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://muyinchen.github.io/2017/01/15/重走Java基础之Streams 三/"/>


  <title> 重走Java基础之Streams 三 | 一叶知秋 </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    (function() {
      var hm = document.createElement("script");
      hm.src = "//tajs.qq.com/stats?sId=UA-83014983-1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">一叶知秋</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule" rel="section">
            
            日程
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                重走Java基础之Streams 三
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-01-15T18:57:44+08:00" content="2017-01-15">
              2017-01-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/基础/" itemprop="url" rel="index">
                    <span itemprop="name">基础</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/01/15/重走Java基础之Streams 三/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/15/重走Java基础之Streams 三/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv"><i class="fa fa-user"> 本站访客数 </i>
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>人次
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="重走Java基础之Streams-三"><a href="#重走Java基础之Streams-三" class="headerlink" title="重走Java基础之Streams 三"></a>重走Java基础之Streams 三</h1><p>接<a href="https://muyinchen.github.io/2017/01/14/%E9%87%8D%E8%B5%B0Java%E5%9F%BA%E7%A1%80%E4%B9%8BStreams(%E4%BA%8C">重走Java基础之Streams(二)</a>)</p>
<h3 id="Creating-a-Stream"><a href="#Creating-a-Stream" class="headerlink" title="Creating a Stream"></a>Creating a Stream</h3><a id="more"></a>
<p>所有java<code>Collection</code>都有<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--" target="_blank" rel="external"><code>stream()</code></a> 和<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#parallelStream--" target="_blank" rel="external"><code>parallelStream()</code></a>方法可以从中构造一个<code>Stream</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Collection&lt;String&gt; stringList = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">Stream&lt;String&gt; stringStream = stringList.parallelStream();</div></pre></td></tr></table></figure>
<p>可以使用以下两种方法之一从数组创建<code>Stream</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">String[] values = &#123; <span class="string">"aaa"</span>, <span class="string">"bbbb"</span>, <span class="string">"ddd"</span>, <span class="string">"cccc"</span> &#125;;</div><div class="line">Stream&lt;String&gt; stringStream = Arrays.stream(values);</div><div class="line">Stream&lt;String&gt; stringStreamAlternative = Stream.of(values);</div></pre></td></tr></table></figure>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-T:A-" target="_blank" rel="external"><code>Arrays.stream()</code></a> 和<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-" target="_blank" rel="external"><code>Stream .of()</code></a>不同之处在于 <code>Stream.of()</code>有一个varargs参数，因此可以像下面这样使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Stream&lt;Integer&gt; integerStream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div></pre></td></tr></table></figure>
<p>还有一些primitive(原始的,原函数，看下面例子便知道什么意思了)<code>Stream</code>s，你可以使用。 例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">IntStream intStream = IntStream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div><div class="line">DoubleStream doubleStream = DoubleStream.of(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>);</div></pre></td></tr></table></figure>
<p>这些primitive streams (原始流)也可以使用<code>Arrays.stream()</code>方法构造：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">IntStream intStream = Arrays.stream(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;);</div></pre></td></tr></table></figure>
<p>可以从具有指定范围的数组创建一个<code>Stream</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] values= <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</div><div class="line">IntStream intStram = Arrays.stream(values, <span class="number">1</span>, <span class="number">3</span>);</div></pre></td></tr></table></figure>
<p>注意任何primitive streams (原始流)可以使用<code>boxed</code>方法转换为boxed类型流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Stream&lt;Integer&gt; integerStream = intStream.boxed();</div></pre></td></tr></table></figure>
<p>这在某些情况下可能是有用的，如果你想收集数据，因为primitive streams (原始流)没有任何可以需要一个<code>Collector</code>来作为参数的<code>collect</code>方法。</p>
<h4 id="再多举几个例子："><a href="#再多举几个例子：" class="headerlink" title="再多举几个例子："></a>再多举几个例子：</h4><h5 id="1-计算列表中的元素数"><a href="#1-计算列表中的元素数" class="headerlink" title="1.计算列表中的元素数"></a>1.计算列表中的元素数</h5><p>注意需</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"><span class="keyword">import</span> java.util.stream.Collectors;</div><div class="line"><span class="keyword">import</span> java.util.stream.IntStream;</div><div class="line"></div><div class="line">List&lt;Integer&gt; list = IntStream.range(<span class="number">1</span>, <span class="number">100</span>).boxed().collect(Collectors.toList());</div><div class="line">System.out.println(list.stream().count());</div></pre></td></tr></table></figure>
<h5 id="2-计算列表中元素的平均数"><a href="#2-计算列表中元素的平均数" class="headerlink" title="2. 计算列表中元素的平均数"></a>2. 计算列表中元素的平均数</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Double avarage = list.stream().collect(Collectors.averagingInt(item -&gt; item));</div></pre></td></tr></table></figure>
<h5 id="3-对列表元素进行统计"><a href="#3-对列表元素进行统计" class="headerlink" title="3. 对列表元素进行统计"></a>3. 对列表元素进行统计</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;Integer&gt; list = IntStream.range(<span class="number">1</span>, <span class="number">100</span>).boxed().collect(Collectors.toList());</div><div class="line">IntSummaryStatistics iss = list.stream().collect(Collectors.summarizingInt(value -&gt; value));</div><div class="line">System.out.println(iss);</div></pre></td></tr></table></figure>
<p>​<br>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">IntSummaryStatistics&#123;count=<span class="number">99</span>, sum=<span class="number">4950</span>, min=<span class="number">1</span>, average=<span class="number">50.000000</span>, max=<span class="number">99</span>&#125;</div></pre></td></tr></table></figure>
<h5 id="4-根据List创建Map"><a href="#4-根据List创建Map" class="headerlink" title="4. 根据List创建Map"></a>4. 根据List创建Map</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;Integer&gt; list = IntStream.range(<span class="number">1</span>, <span class="number">100</span>).boxed().collect(Collectors.toList());</div><div class="line">Map&lt;Integer, Integer&gt; map = list.stream().collect(Collectors.toMap(p -&gt; p, q-&gt;q*<span class="number">3</span>));</div><div class="line">System.out.println(map);</div></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="number">1</span>=<span class="number">3</span>, <span class="number">2</span>=<span class="number">6</span>, <span class="number">3</span>=<span class="number">9</span>, <span class="number">4</span>=<span class="number">12</span>, <span class="number">5</span>=<span class="number">15</span>, <span class="number">6</span>=<span class="number">18</span>, <span class="number">7</span>=<span class="number">21</span>, <span class="number">8</span>=<span class="number">24</span>, <span class="number">9</span>=<span class="number">27</span>, <span class="number">10</span>=<span class="number">30</span>, <span class="number">11</span>=<span class="number">33</span>, <span class="number">12</span>=<span class="number">36</span>, <span class="number">13</span>=<span class="number">39</span>, <span class="number">14</span>=<span class="number">42</span>, <span class="number">15</span>=<span class="number">45</span>, <span class="number">16</span>=<span class="number">48</span>, <span class="number">17</span>=<span class="number">51</span>, <span class="number">18</span>=<span class="number">54</span>, <span class="number">19</span>=<span class="number">57</span>, <span class="number">20</span>=<span class="number">60</span>, <span class="number">21</span>=<span class="number">63</span>, <span class="number">22</span>=<span class="number">66</span>, <span class="number">23</span>=<span class="number">69</span>, <span class="number">24</span>=<span class="number">72</span>, <span class="number">25</span>=<span class="number">75</span>, <span class="number">26</span>=<span class="number">78</span>, <span class="number">27</span>=<span class="number">81</span>, <span class="number">28</span>=<span class="number">84</span>, <span class="number">29</span>=<span class="number">87</span>, <span class="number">30</span>=<span class="number">90</span>, <span class="number">31</span>=<span class="number">93</span>, <span class="number">32</span>=<span class="number">96</span>, <span class="number">33</span>=<span class="number">99</span>, <span class="number">34</span>=<span class="number">102</span>, <span class="number">35</span>=<span class="number">105</span>, <span class="number">36</span>=<span class="number">108</span>, <span class="number">37</span>=<span class="number">111</span>, <span class="number">38</span>=<span class="number">114</span>, <span class="number">39</span>=<span class="number">117</span>, <span class="number">40</span>=<span class="number">120</span>, <span class="number">41</span>=<span class="number">123</span>, <span class="number">42</span>=<span class="number">126</span>, <span class="number">43</span>=<span class="number">129</span>, <span class="number">44</span>=<span class="number">132</span>, <span class="number">45</span>=<span class="number">135</span>, <span class="number">46</span>=<span class="number">138</span>, <span class="number">47</span>=<span class="number">141</span>, <span class="number">48</span>=<span class="number">144</span>, <span class="number">49</span>=<span class="number">147</span>, <span class="number">50</span>=<span class="number">150</span>, <span class="number">51</span>=<span class="number">153</span>, <span class="number">52</span>=<span class="number">156</span>, <span class="number">53</span>=<span class="number">159</span>, <span class="number">54</span>=<span class="number">162</span>, <span class="number">55</span>=<span class="number">165</span>, <span class="number">56</span>=<span class="number">168</span>, <span class="number">57</span>=<span class="number">171</span>, <span class="number">58</span>=<span class="number">174</span>, <span class="number">59</span>=<span class="number">177</span>, <span class="number">60</span>=<span class="number">180</span>, <span class="number">61</span>=<span class="number">183</span>, <span class="number">62</span>=<span class="number">186</span>, <span class="number">63</span>=<span class="number">189</span>, <span class="number">64</span>=<span class="number">192</span>, <span class="number">65</span>=<span class="number">195</span>, <span class="number">66</span>=<span class="number">198</span>, <span class="number">67</span>=<span class="number">201</span>, <span class="number">68</span>=<span class="number">204</span>, <span class="number">69</span>=<span class="number">207</span>, <span class="number">70</span>=<span class="number">210</span>, <span class="number">71</span>=<span class="number">213</span>, <span class="number">72</span>=<span class="number">216</span>, <span class="number">73</span>=<span class="number">219</span>, <span class="number">74</span>=<span class="number">222</span>, <span class="number">75</span>=<span class="number">225</span>, <span class="number">76</span>=<span class="number">228</span>, <span class="number">77</span>=<span class="number">231</span>, <span class="number">78</span>=<span class="number">234</span>, <span class="number">79</span>=<span class="number">237</span>, <span class="number">80</span>=<span class="number">240</span>, <span class="number">81</span>=<span class="number">243</span>, <span class="number">82</span>=<span class="number">246</span>, <span class="number">83</span>=<span class="number">249</span>, <span class="number">84</span>=<span class="number">252</span>, <span class="number">85</span>=<span class="number">255</span>, <span class="number">86</span>=<span class="number">258</span>, <span class="number">87</span>=<span class="number">261</span>, <span class="number">88</span>=<span class="number">264</span>, <span class="number">89</span>=<span class="number">267</span>, <span class="number">90</span>=<span class="number">270</span>, <span class="number">91</span>=<span class="number">273</span>, <span class="number">92</span>=<span class="number">276</span>, <span class="number">93</span>=<span class="number">279</span>, <span class="number">94</span>=<span class="number">282</span>, <span class="number">95</span>=<span class="number">285</span>, <span class="number">96</span>=<span class="number">288</span>, <span class="number">97</span>=<span class="number">291</span>, <span class="number">98</span>=<span class="number">294</span>, <span class="number">99</span>=<span class="number">297</span>&#125;</div></pre></td></tr></table></figure>
<h5 id="5-求列表元素的最大数"><a href="#5-求列表元素的最大数" class="headerlink" title="5. 求列表元素的最大数"></a>5. 求列表元素的最大数</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> Random().ints(-<span class="number">100</span>,<span class="number">100</span>).limit(<span class="number">250</span>).boxed().collect(Collectors.toList());</div><div class="line">Optional&lt;Integer&gt; max = list.stream().reduce(Math::max);</div><div class="line">max.ifPresent(value -&gt; System.out.println(value));</div></pre></td></tr></table></figure>
<p>应该有些理解了吧。</p>
<p><strong>重用a stream chain(一个流链)的中间操作</strong></p>
<p>当终端操作被调用时，流被关闭。当我们的需求只有发生在终端操作的改变时，可以 重复使用中间操作流。 我们可以创建 a stream supplier(一个流供应者)来构造一个已经建立了所有中间操作的新流。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; Stream.of(<span class="string">"apple"</span>, <span class="string">"banana"</span>,<span class="string">"orange"</span>, <span class="string">"grapes"</span>, <span class="string">"melon"</span>,<span class="string">"blueberry"</span>,<span class="string">"blackberry"</span>)</div><div class="line">.map(String::toUpperCase).sorted();</div><div class="line"></div><div class="line">  streamSupplier.get().filter(s -&gt;   s.startsWith(<span class="string">"A"</span>)).forEach(System.out::println);</div><div class="line"></div><div class="line"><span class="comment">// APPLE</span></div><div class="line"></div><div class="line">  streamSupplier.get().filter(s -&gt; s.startsWith(<span class="string">"B"</span>)).forEach(System.out::println);</div><div class="line"></div><div class="line">  <span class="comment">// BANANA</span></div><div class="line">  <span class="comment">// BLACKBERRY</span></div><div class="line">  <span class="comment">// BLUEBERRY</span></div></pre></td></tr></table></figure>
<p><code>int []</code>数组可以使用流转换为<code>List</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] ints = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</div><div class="line">List&lt;Integer&gt; list = IntStream.of(ints).boxed().collect(Collectors.toList());</div></pre></td></tr></table></figure>
<h3 id="通过-flatMap-来扁平化处理流"><a href="#通过-flatMap-来扁平化处理流" class="headerlink" title="通过 flatMap()来扁平化处理流"></a><code>通过 flatMap()来扁平化处理流</code></h3><p>A <code>Stream</code> of items that are in turn streamable can be flattened into a single continuous <code>Stream</code>:<br>flatMap：和map类似，不同的是其每个元素转换得到的是Stream对象，会把子Stream中的元素压缩到父集合中</p>
<p>map和flatMap方法示意图：</p>
<p><img src="http://og0sybnix.bkt.clouddn.com/T2PQJnXOJXXXXXXXXX_%21%2190219132.jpg" alt=""></p>
<p>可以看出map只转换</p>
<p><img src="http://og0sybnix.bkt.clouddn.com/T2mBXnXQhXXXXXXXXX_%21%2190219132.jpg" alt=""></p>
<p>可以看出flatMap不仅转换，又进一步合并了一下，将多个子Stream合并为一个Stream。</p>
<p>由下面例子可以看出，大的 <code>Stream</code>中的子 <code>Stream</code>可以被扁平化处理为单个连续的 <code>Stream</code>：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Map&lt;String, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div><div class="line">map.put(<span class="string">"a"</span>, Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</div><div class="line">map.put(<span class="string">"b"</span>, Arrays.asList(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>));</div><div class="line"></div><div class="line">List&lt;Integer&gt; allValues = map.values() <span class="comment">// Collection&lt;List&lt;Integer&gt;&gt;</span></div><div class="line">        .stream()                      <span class="comment">// Stream&lt;List&lt;Integer&gt;&gt;</span></div><div class="line">        .flatMap(List::stream)         <span class="comment">// Stream&lt;Integer&gt;</span></div><div class="line">        .collect(Collectors.toList());</div><div class="line"></div><div class="line">System.out.println(allValues);</div><div class="line"><span class="comment">// [1, 2, 3, 4, 5, 6]</span></div></pre></td></tr></table></figure></p>
<p>含<code>Map</code>的<code>List</code>可以被扁平化处理成一个连续的<code>Stream</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">List&lt;Map&lt;String, String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">Map&lt;String,String&gt; map1 = <span class="keyword">new</span> HashMap();</div><div class="line">map1.put(<span class="string">"1"</span>, <span class="string">"one"</span>);</div><div class="line">map1.put(<span class="string">"2"</span>, <span class="string">"two"</span>);</div><div class="line"></div><div class="line">Map&lt;String,String&gt; map2 = <span class="keyword">new</span> HashMap();</div><div class="line">map2.put(<span class="string">"3"</span>, <span class="string">"three"</span>);</div><div class="line">map2.put(<span class="string">"4"</span>, <span class="string">"four"</span>);</div><div class="line">list.add(map1);</div><div class="line">list.add(map2);</div><div class="line"></div><div class="line"></div><div class="line">Set&lt;String&gt; output= list.stream()  <span class="comment">//  Stream&lt;Map&lt;String, String&gt;&gt;</span></div><div class="line">    .map(Map::values)              <span class="comment">// Stream&lt;List&lt;String&gt;&gt;</span></div><div class="line">    .flatMap(Collection::stream)   <span class="comment">// Stream&lt;String&gt;</span></div><div class="line">    .collect(Collectors.toSet());  <span class="comment">//Set&lt;String&gt;</span></div><div class="line">[one, two, three,four]</div></pre></td></tr></table></figure>
<h3 id="使用Streams实现数学函数"><a href="#使用Streams实现数学函数" class="headerlink" title="使用Streams实现数学函数"></a>使用Streams实现数学函数</h3><p><code>Stream</code>s，尤其是 <code>IntStream</code>s，是一种实现求和项（Σ）的优雅方法。<code>Stream</code>可以用作求和的的范围边界。</p>
<p>E.g., Madhava的Pi近似值由公式给出(Source: <a href="https://en.wikipedia.org/wiki/Approximations_of_%CF%80" target="_blank" rel="external">wikipedia</a>): <a href="http://i.stack.imgur.com/XY9Kr.png" target="_blank" rel="external"><img src="http://i.stack.imgur.com/XY9Kr.png" alt="Madhava&#39;s approximation"></a></p>
<p>这可以以任意精度计算。 例如，101项次幂：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">double</span> pi = Math.sqrt(<span class="number">12</span>) * </div><div class="line">            IntStream.rangeClosed(<span class="number">0</span>, <span class="number">100</span>)</div><div class="line">                     .mapToDouble(k -&gt; Math.pow(-<span class="number">3</span>, -<span class="number">1</span> * k) / (<span class="number">2</span> * k + <span class="number">1</span>))</div><div class="line">                     .sum();</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> 使用<code>double</code>的精度，选择29的上限就足以获得与<code>Math.Pi</code>大概一致的结果.</p>
<h3 id="使用IntStream迭代索引"><a href="#使用IntStream迭代索引" class="headerlink" title="使用IntStream迭代索引"></a>使用IntStream迭代索引</h3><p><code>stream</code>s的元素通常不允许访问当前项的索引值。 要通过访问索引来迭代数组或<code>ArrayList</code>，使用<code>IntStream.range（start，endExclusive）</code>。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">String[] names = &#123; <span class="string">"Jon"</span>, <span class="string">"Darin"</span>, <span class="string">"Bauke"</span>, <span class="string">"Hans"</span>, <span class="string">"Marc"</span> &#125;;</div><div class="line"></div><div class="line">IntStream.range(<span class="number">0</span>, names.length)</div><div class="line">    .mapToObj(i -&gt; String.format(<span class="string">"#%d %s"</span>, i + <span class="number">1</span>, names[i]))</div><div class="line">    .forEach(System.out::println);</div></pre></td></tr></table></figure></p>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#range-int-int-" target="_blank" rel="external"><code>range（start，endExclusive）</code></a> 方法返回另一个 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html" target="_blank" rel="external"><code>ÌntStream</code></a>并和 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-" target="_blank" rel="external"><code>mapToObj(mapper)</code></a>返回一个String。</p>
<p>Output:</p>
<p>这非常类似于使用带有计数器的正常的for循环，但是具有流水线和并行化的优点：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; names.length; i++) &#123;</div><div class="line">    String newName = String.format(<span class="string">"#%d %s"</span>, i + <span class="number">1</span>, names[i]);</div><div class="line">    System.out.println(newName);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="连接流"><a href="#连接流" class="headerlink" title="连接流"></a>连接流</h3><p>变量声明示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Collection&lt;String&gt; abc = Arrays.asList(<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>);</div><div class="line">Collection&lt;String&gt; digits = Arrays.asList(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>);</div><div class="line">Collection&lt;String&gt; greekAbc = Arrays.asList(<span class="string">"alpha"</span>, <span class="string">"beta"</span>, <span class="string">"gamma"</span>);</div></pre></td></tr></table></figure>
<p><strong>Example 1 - 连接两个流</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> Stream&lt;String&gt; concat1 = Stream.concat(abc.stream(), digits.stream());</div><div class="line"></div><div class="line">concat1.forEach(System.out::print);</div><div class="line"><span class="comment">// prints: abc123</span></div></pre></td></tr></table></figure>
<p><strong>Example 2 -连接多个流</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> Stream&lt;String&gt; concat2 = Stream.concat(</div><div class="line">    Stream.concat(abc.stream(), digits.stream()),</div><div class="line">    greekAbc.stream());</div><div class="line"></div><div class="line">System.out.println(concat2.collect(Collectors.joining(<span class="string">", "</span>)));</div><div class="line"><span class="comment">// prints: a, b, c, 1, 2, 3, alpha, beta, gamma</span></div></pre></td></tr></table></figure>
<p>或者为了简化嵌套的<code>concat()</code>语法我们也可以使用<code>flatMap()</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> Stream&lt;String&gt; concat3 = Stream.of(</div><div class="line">    abc.stream(), digits.stream(), greekAbc.stream())</div><div class="line">    .flatMap(s -&gt; s);</div><div class="line">    <span class="comment">// or `.flatMap(Function.identity());` (java.util.function.Function)</span></div><div class="line"></div><div class="line">System.out.println(concat3.collect(Collectors.joining(<span class="string">", "</span>)));</div><div class="line"><span class="comment">// prints: a, b, c, 1, 2, 3, alpha, beta, gamma</span></div></pre></td></tr></table></figure>
<p>在从重复连接构造<code>Stream</code>s 时要小心，因为访问深度并置的<code>Stream</code>的元素可能导致深层调用链或者甚至是<code>StackOverflowException</code>(本就是栈操作)。</p>
<h3 id="IntStream-to-String"><a href="#IntStream-to-String" class="headerlink" title="IntStream to String"></a>IntStream to String</h3><p>Java没有<em> Char Stream </em>，所以当使用<code>String</code>s并构造一个<code>Character</code>的<code>Character</code>s时，一个选项是使用<code>String.codePoints()</code>方法获取一个<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html" target="_blank" rel="external"><code>IntStream</code></a> ,所以<code>IntStream</code>可以得到如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> IntStream <span class="title">stringToIntStream</span><span class="params">(String in)</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> in.codePoints();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>更多的涉及做其他方式的转换，即IntStreamToString。 可以这样做：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">intStreamToString</span><span class="params">(IntStream intStream)</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> intStream.collect(StringBuilder::<span class="keyword">new</span>, StringBuilder::appendCodePoint, StringBuilder::append).toString();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="使用流和方法引用来编写自己的文档化流程代码"><a href="#使用流和方法引用来编写自己的文档化流程代码" class="headerlink" title="使用流和方法引用来编写自己的文档化流程代码"></a>使用流和方法引用来编写自己的文档化流程代码</h3><p>通过方法引用来创建具有帅气风格的文档化代码，使用带有Stream的方法引用使得复杂的过程易于阅读和理解(所以才说流程)。 考虑下面的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Ordered</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">int</span> <span class="title">getOrder</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Valued</span>&lt;<span class="title">V</span> <span class="keyword">extends</span> <span class="title">Ordered</span>&gt; </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasPropertyTwo</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">V <span class="title">getValue</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Thing</span>&lt;<span class="title">V</span> <span class="keyword">extends</span> <span class="title">Ordered</span>&gt; </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasPropertyOne</span><span class="params">()</span></span>;</div><div class="line">    <span class="function">Valued&lt;V&gt; <span class="title">getValuedProperty</span><span class="params">()</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> &lt;V extends Ordered&gt; <span class="function">List&lt;V&gt; <span class="title">myMethod</span><span class="params">(List&lt;Thing&lt;V&gt;&gt; things)</span> </span>&#123;</div><div class="line">    List&lt;V&gt; results = <span class="keyword">new</span> ArrayList&lt;V&gt;();</div><div class="line">    <span class="keyword">for</span> (Thing&lt;V&gt; thing : things) &#123;</div><div class="line">        <span class="keyword">if</span> (thing.hasPropertyOne()) &#123;</div><div class="line">            Valued&lt;V&gt; valued = thing.getValuedProperty();</div><div class="line">            <span class="keyword">if</span> (valued != <span class="keyword">null</span> &amp;&amp; valued.hasPropertyTwo())&#123;</div><div class="line">                V value = valued.getValue();</div><div class="line">                <span class="keyword">if</span> (value != <span class="keyword">null</span>)&#123;</div><div class="line">                    results.add(value);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    results.sort((a, b)-&gt;&#123;</div><div class="line">        <span class="keyword">return</span> Integer.compare(a.getOrder(), b.getOrder());</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> results;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最后使用<code>Stream</code>s和方法引用重写的自定义的方法更易读，而且每个步骤都很容易理解 - 它不仅更短，还显示了哪些接口和类负责每个 步：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> &lt;V extends Ordered&gt; <span class="function">List&lt;V&gt; <span class="title">myMethod</span><span class="params">(List&lt;Thing&lt;V&gt;&gt; things)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> things.stream()</div><div class="line">        .filter(Thing::hasPropertyOne)</div><div class="line">        .map(Thing::getValuedProperty)</div><div class="line">        .filter(Objects::nonNull)</div><div class="line">        .filter(Valued::hasPropertyTwo)</div><div class="line">        .map(Valued::getValue)</div><div class="line">        .filter(Objects::nonNull)</div><div class="line">        .sorted(Comparator.comparing(Ordered::getOrder))</div><div class="line">        .collect(Collectors.toList());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>未完待续：</p>
<p>部分参考示图源自：<a href="http://ifeve.com/stream/" target="_blank" rel="external">http://ifeve.com/stream/</a><br>部分示例源自：<a href="http://blog.csdn.net/chszs/article/details/47038607" target="_blank" rel="external">http://blog.csdn.net/chszs/article/details/47038607</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http://og0sybnix.bkt.clouddn.com/wechat-qcode.png" alt="知秋 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java-8/" rel="tag">#Java 8</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/14/重走Java基础之Streams 二/" rel="next" title="重走Java基础之Streams 二">
                <i class="fa fa-chevron-left"></i> 重走Java基础之Streams 二
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/01/16/重走Java基础之Streams 四/" rel="prev" title="重走Java基础之Streams 四">
                重走Java基础之Streams 四 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/01/15/重走Java基础之Streams 三/"
           data-title="重走Java基础之Streams 三" data-url="https://muyinchen.github.io/2017/01/15/重走Java基础之Streams 三/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://og0sybnix.bkt.clouddn.com/18213496.jpg"
               alt="知秋" />
          <p class="site-author-name" itemprop="name">知秋</p>
          <p class="site-description motion-element" itemprop="description">只记空山，只念新雨</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">92</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.csdn.net/lsgqjh" title="小舒哥" target="_blank">小舒哥</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#重走Java基础之Streams-三"><span class="nav-number">1.</span> <span class="nav-text">重走Java基础之Streams 三</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-a-Stream"><span class="nav-number">1.0.1.</span> <span class="nav-text">Creating a Stream</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#再多举几个例子："><span class="nav-number">1.0.1.1.</span> <span class="nav-text">再多举几个例子：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-计算列表中的元素数"><span class="nav-number">1.0.1.1.1.</span> <span class="nav-text">1.计算列表中的元素数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-计算列表中元素的平均数"><span class="nav-number">1.0.1.1.2.</span> <span class="nav-text">2. 计算列表中元素的平均数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-对列表元素进行统计"><span class="nav-number">1.0.1.1.3.</span> <span class="nav-text">3. 对列表元素进行统计</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-根据List创建Map"><span class="nav-number">1.0.1.1.4.</span> <span class="nav-text">4. 根据List创建Map</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-求列表元素的最大数"><span class="nav-number">1.0.1.1.5.</span> <span class="nav-text">5. 求列表元素的最大数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过-flatMap-来扁平化处理流"><span class="nav-number">1.0.2.</span> <span class="nav-text">通过 flatMap()来扁平化处理流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Streams实现数学函数"><span class="nav-number">1.0.3.</span> <span class="nav-text">使用Streams实现数学函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用IntStream迭代索引"><span class="nav-number">1.0.4.</span> <span class="nav-text">使用IntStream迭代索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#连接流"><span class="nav-number">1.0.5.</span> <span class="nav-text">连接流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IntStream-to-String"><span class="nav-number">1.0.6.</span> <span class="nav-text">IntStream to String</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用流和方法引用来编写自己的文档化流程代码"><span class="nav-number">1.0.7.</span> <span class="nav-text">使用流和方法引用来编写自己的文档化流程代码</span></a></li></ol></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">知秋</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhiqiuyy"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

  


</body>
</html>
