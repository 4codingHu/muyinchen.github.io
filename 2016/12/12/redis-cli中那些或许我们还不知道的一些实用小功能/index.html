<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="只记空山，只念新雨">
  <meta name="keyword" content="hexo-theme, vuejs">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      redis-cli中那些或许我们还不知道的一些实用小功能 | 一叶知秋
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


</head>
<div class="wechat-share">
  <img src="/css/images/logo.png">
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>一叶知秋</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>redis-cli中那些或许我们还不知道的一些实用小功能</h2>
  <p class="post-date">2016-12-12</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><h1 id="redis-cli中那些或许我们还不知道的一些实用小功能"><a href="#redis-cli中那些或许我们还不知道的一些实用小功能" class="headerlink" title="redis-cli中那些或许我们还不知道的一些实用小功能"></a>redis-cli中那些或许我们还不知道的一些实用小功能</h1><p>玩过<code>redis</code>的朋友都知道，<code>redis</code>中有一个叫做<code>redis-cli</code>的小工具，我们可以利用它在<code>test</code>和<code>develop</code>环境下进行高效的模拟测试，然而在现实环境中，我们只知道直接键入<code>redis-cli</code>启动命令的交互式，而这个对<code>redis-cli</code>来说绝对是九牛一毛，下面我逐一给大家演示下。<br> <a id="more"></a></p>
<h3 id="一：非REPL-Read-Eval-Print-Loop-模式"><a href="#一：非REPL-Read-Eval-Print-Loop-模式" class="headerlink" title="一：非REPL (Read Eval Print Loop) 模式"></a>一：非REPL (Read Eval Print Loop) 模式</h3><p>通常我们都是使用REPL模式，就是连接上端口之后，发一条<code>request</code>再等待<code>response</code>这样一个<code>loop</code>的形式，如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216</span></span><br><span class="line">192.168.1.216:6379&gt;  <span class="built_in">set</span> username jack</span><br><span class="line">OK</span><br><span class="line">192.168.1.216:6379&gt;  <span class="built_in">set</span> password 12345</span><br><span class="line">OK</span><br><span class="line">192.168.1.216:6379&gt;</span><br></pre></td></tr></table></figure>
<p>其实我还可以直接在命令行中使用<code>redis-cli</code>再配合各种附加参数，效果和上面图示是一模一样的，比如下面这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216 set username jack</span></span><br><span class="line">OK</span><br><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216 set password 12345</span></span><br><span class="line">OK</span><br><span class="line">[root@localhost Desktop]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>看到没有，这样也是可以的，是不是有点意思哈~~~</p>
<h3 id="二：从本地文件中执行命令导入"><a href="#二：从本地文件中执行命令导入" class="headerlink" title="二：从本地文件中执行命令导入"></a>二：从本地文件中执行命令导入</h3><p>乍一看还是挺酷的，就是可以把本地文件中的一组<code>redis</code>命令直接导入到<code>redis-cli</code>中执行，这样也就免去了一行一行的去键入了，对不对，工作量可以大大的减轻，比如下面这样：</p>
<ol>
<li><p>首先找一个目录，这里就选择<code>/usr/</code>， 下面新建一个<code>txt文件</code>，命令还是非常的简单，执行两个<code>set</code>操作。</p>
<p><img src="http://img1.tuicool.com/qUBbQre.png!web" alt=""> </p>
</li>
</ol>
<p>然后我们用 <code>&lt; 命令</code>导入就可以了，这里<code>126</code>的ip是本地局域网内的一台虚拟机，是不是有点像<code>pipeline</code>管道操作，牛逼吧~~~ 如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216 &lt; /usr/1.txt</span></span><br><span class="line">OK</span><br><span class="line">OK</span><br><span class="line">[root@localhost Desktop]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="三：对指定redis命令重复调用"><a href="#三：对指定redis命令重复调用" class="headerlink" title="三：对指定redis命令重复调用"></a>三：对指定<code>redis</code>命令重复调用</h3><p>对指定的<code>redis</code>命令进行重复调用，乍一看也没什么用处，但是如果你调用<code>info</code>命令会是咋样的呢？？？ 你肯定会想到，我操，监控对不对？？？好吧，猜对了，命令格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -r &lt;count&gt; and -i &lt;delay&gt; <span class="built_in">command</span></span><br></pre></td></tr></table></figure>
<p>其中<code>-r</code> 是<code>repeat</code>的次数，<code>-i</code>是<code>delay</code>的<code>sencond</code>的秒数，那接下来我演示一下啊，调用<code>info</code>命令10次，每次延迟<code>1s</code>，如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216 -r 10 -i 1 INFO</span></span><br><span class="line"><span class="comment"># Server</span></span><br><span class="line">redis_version:3.2.4</span><br><span class="line">redis_git_sha1:00000000</span><br><span class="line">redis_git_dirty:0</span><br><span class="line">redis_build_id:<span class="built_in">fc</span>9ad9a14d3a0fb5</span><br><span class="line">redis_mode:standalone</span><br><span class="line">os:Linux 3.10.0-327.el7.x86_64 x86_64</span><br><span class="line">arch_bits:64</span><br><span class="line">multiplexing_api:epoll</span><br><span class="line">gcc_version:4.8.5</span><br><span class="line">process_id:6171</span><br><span class="line">run_id:8d1d5cffbf81e31c6c6e0bd144186e9df9fea482</span><br><span class="line">tcp_port:6379</span><br><span class="line">uptime_in_seconds:3536932</span><br><span class="line">uptime_in_days:40</span><br><span class="line">hz:10</span><br><span class="line">lru_clock:5049094</span><br><span class="line">executable:/etc/redis/redis-server</span><br><span class="line">config_file:/etc/redis/6379.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Clients</span></span><br><span class="line">connected_clients:7</span><br><span class="line">client_longest_output_list:0</span><br><span class="line">client_biggest_input_buf:0</span><br><span class="line">blocked_clients:0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Memory</span></span><br><span class="line">used_memory:1295512</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_rss:10395648</span><br><span class="line">used_memory_rss_human:9.91M</span><br><span class="line">used_memory_peak:35199336</span><br><span class="line">used_memory_peak_human:33.57M</span><br><span class="line">total_system_memory:2099109888</span><br><span class="line">total_system_memory_human:1.95G</span><br><span class="line">used_memory_lua:37888</span><br><span class="line">used_memory_lua_human:37.00K</span><br><span class="line">maxmemory:0</span><br><span class="line">maxmemory_human:0B</span><br><span class="line">maxmemory_policy:noeviction</span><br><span class="line">mem_fragmentation_ratio:8.02</span><br><span class="line">mem_allocator:jemalloc-4.0.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># Persistence</span></span><br><span class="line">loading:0</span><br><span class="line">rdb_changes_since_last_save:0</span><br><span class="line">rdb_bgsave_in_progress:0</span><br><span class="line">rdb_last_save_time:1481443658</span><br><span class="line">rdb_last_bgsave_status:ok</span><br><span class="line">rdb_last_bgsave_time_sec:0</span><br><span class="line">rdb_current_bgsave_time_sec:-1</span><br><span class="line">aof_enabled:0</span><br><span class="line">aof_rewrite_in_progress:0</span><br><span class="line">aof_rewrite_scheduled:0</span><br><span class="line">aof_last_rewrite_time_sec:-1</span><br><span class="line">aof_current_rewrite_time_sec:-1</span><br><span class="line">aof_last_bgrewrite_status:ok</span><br><span class="line">aof_last_write_status:ok</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>可以看到，命令一下子就刷出来了很多，有点眼花缭乱，一般来说我只关注的是<code>used_memory_human</code>字段，也就仅仅需要知道当然redis占用了多少内存就完事了，所以这里我需要<code>grep</code>一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216 -r 10 -i 1 INFO | grep used_memory_human</span></span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">used_memory_human:1.24M</span><br><span class="line">[root@localhost Desktop]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>可以清楚的看到，当前<code>memory_human</code>占用<code>1.24M</code>对吧。。。是不是有一种监控的效果呢？</p>
<h3 id="四：-stat完整版监控"><a href="#四：-stat完整版监控" class="headerlink" title="四：--stat完整版监控"></a>四：<code>--stat</code>完整版监控</h3><p>其实上面的这个监控还仅仅算是一个极简的版本，可能不能满足有些朋友的需求，比如你就看不到当前的<code>redis</code>中有多少的<code>keys</code>,有多少的<code>clients</code>，有多少被<code>blocked</code>，有多少<code>requests</code>等等信息，如果这些都有了，是不是有点像<code>mongodb</code>中的<code>mongostats</code>呢？哈哈，下面我就迫不及待的给大家来演示一下吧，非常的简单。。。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Desktop]<span class="comment"># redis-cli -h 192.168.1.216 --stat</span></span><br><span class="line">------- data ------ --------------------- load -------------------- - child -</span><br><span class="line">keys       mem      clients blocked requests            connections          </span><br><span class="line">27         1.24M    7       0       1198768 (+0)        2206        </span><br><span class="line">27         1.24M    7       0       1198769 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198770 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198771 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198772 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198773 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198774 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198775 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198776 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198777 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198778 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198779 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198780 (+1)        2206        </span><br><span class="line">27         1.27M    7       0       1198782 (+2)        2206        </span><br><span class="line">27         1.24M    7       0       1198783 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198784 (+1)        2206        </span><br><span class="line">27         1.24M    7       0       1198785 (+1)        2206</span><br></pre></td></tr></table></figure>
<p>看到没有，是不是非常的牛逼，一目了然。</p>
<p>转<a href="http://www.cnblogs.com/huangxincheng/p/6159890.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">http://www.cnblogs.com/huangxincheng/p/6159890.html?utm_source=tuicool&amp;utm_medium=referral</a></p>
</section>
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#redis">
    <span class="tag-code">redis</span>
  </a>

      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2016/12/10/Migo商城2.0 商品详情页面的实现 二十一/">
        <span class="nav-arrow">← </span>
        
          Migo商城2.0 商品详情页面的实现 二十一
        
      </a>
    
    
      <a class="nav-right" href="/2016/12/13/Java 8 最佳技巧/">
        
          Java 8 最佳技巧
        
        <span class="nav-arrow"> →</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- 打赏 START -->
    
      <div class="money-like">
        <div class="reward-btn">
          赏
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>使用支付宝打赏</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>使用微信打赏</b>
            </span>
          </span>
        </div>
        <p class="notice">若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏</p>
      </div>
    
    <!-- 打赏 END -->
    <!-- 二维码 START -->
    
      <div class="qrcode">
        <canvas id="share-qrcode"></canvas>
        <p class="notice">扫描二维码，分享此文章</p>
      </div>
    
    <!-- 二维码 END -->
    
      <!-- Gitment START -->
      <div id="comments"></div>
      <!-- Gitment END -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">Catalog</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#redis-cli中那些或许我们还不知道的一些实用小功能"><span class="toc-nav-text">redis-cli中那些或许我们还不知道的一些实用小功能</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#一：非REPL-Read-Eval-Print-Loop-模式"><span class="toc-nav-text">一：非REPL (Read Eval Print Loop) 模式</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#二：从本地文件中执行命令导入"><span class="toc-nav-text">二：从本地文件中执行命令导入</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#三：对指定redis命令重复调用"><span class="toc-nav-text">三：对指定redis命令重复调用</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#四：-stat完整版监控"><span class="toc-nav-text">四：--stat完整版监控</span></a></li></ol></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'https://muyinchen.github.io/2016/12/12/redis-cli中那些或许我们还不知道的一些实用小功能/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()
        
        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

    // gitment
    var gitmentConfig = "yanm1ng";
    if (gitmentConfig !== 'undefined') {
      var gitment = new Gitment({
        id: "redis-cli中那些或许我们还不知道的一些实用小功能",
        owner: "yanm1ng",
        repo: "yanm1ng.github.io",
        oauth: {
          client_id: "0f87e490e00ee3fd87ef",
          client_secret: "4a9d2b148e7971c2201ad12131ce8bf8159ccd2e"
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  })();
</script>

<script>
  var disqus_shortname = '';
  
  var disqus_url = 'https://muyinchen.github.io/2016/12/12/redis-cli中那些或许我们还不知道的一些实用小功能/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2019 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    Theme by <a href="https://github.com/yanm1ng">yanm1ng</a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->

<script src="/js/script.js"></script>
  </body>
</html>